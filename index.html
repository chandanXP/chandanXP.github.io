<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Primary Meta Tags -->
    <title>Chandan Saroj - Senior MERN Stack Developer | DevOps & AI Expert</title>
    <meta name="title" content="Chandan Saroj - Senior MERN Stack Developer">
    <meta name="description" content="Senior MERN Developer shipping live industry projects (Hidout, SimpleBit). Expert in React, Node.js, Jenkins CI/CD. National Hackathon Winner.">
    <meta name="keywords" content="Chandan Saroj, Senior MERN Developer, React, Node.js, Jenkins, WebC, AI/ML, Chandigarh">
    <meta name="author" content="Chandan Saroj">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://chandansaroj.in/">
    <meta property="og:title" content="Chandan Saroj - Senior MERN Stack Developer">
    <meta property="og:description" content="Shipping scalable production systems. Expert in Booking Engines, Fintech Dashboards, and DevOps.">
    <meta property="og:image" content="assets/img/chandan-saroj.png">

    <!-- Fonts & Icons -->
    <script src="https://kit.fontawesome.com/e674bba739.js" crossorigin="anonymous"></script>
    
    <!-- GSAP for Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>
    
    <!-- Quill.js Editor (Rich Text) -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    
    <!-- Google Fonts (All requested fonts restored) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Fira+Code:wght@400;500&family=Orbitron:wght@400;500;700;900&family=Rubik+Glitch&family=Noto+Sans+JP:wght@400;500;700&family=Zen+Tokyo+Zoo&display=swap" rel="stylesheet">

    <style>
        /* --- RESET & VARIABLES --- */
        :root {
            /* Dynamic Theme Variables */
            --primary: #00ff88;
            --primary-dim: rgba(0, 255, 136, 0.1);
            --secondary: #00ccff;
            
            /* Background/Mode Variables */
            --dark: #0a0a0a;
            --darker: #050505;
            --card-bg: rgba(20, 20, 20, 0.7);
            --text-light: #f0f0f0;
            --text-gray: #a0a0a0;
            --border: rgba(255, 255, 255, 0.08);
            
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --nav-height: 80px;
            --font-main: 'Inter', sans-serif;
            --font-code: 'Fira Code', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: var(--font-main);
            line-height: 1.6;
            background-color: var(--dark);
            color: var(--text-light);
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 15% 50%, var(--primary-dim) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(255, 255, 255, 0.03) 0%, transparent 25%);
            transition: background-color 0.3s, color 0.3s;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3, h4 { font-weight: 700; line-height: 1.2; color: var(--text-light); }
        h1 { font-size: clamp(2.5rem, 5vw, 4.5rem); letter-spacing: -1px; }
        h2 { font-size: clamp(2rem, 4vw, 3rem); letter-spacing: -0.5px; }
        h3 { font-size: clamp(1.2rem, 2.5vw, 1.8rem); }
        p { margin-bottom: 1rem; color: var(--text-gray); font-size: 1.05rem; }
        a { text-decoration: none; color: inherit; transition: var(--transition); }
        ul { list-style: none; }

        /* --- UTILITY CLASSES --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        .btn {
            display: inline-block; background: var(--primary); color: var(--dark);
            padding: 0.9rem 2.2rem; border-radius: 50px; font-weight: 700; border: none;
            cursor: pointer; font-size: 1rem; transition: var(--transition);
            position: relative; overflow: hidden; z-index: 1;
        }
        .btn::before {
            content: ''; position: absolute; top: 0; left: 0; width: 0; height: 100%;
            background: var(--secondary); transition: var(--transition); z-index: -1;
        }
        .btn:hover::before { width: 100%; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px var(--primary-dim); }

        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); margin-left: 1rem; }
        .btn-outline:hover { background: var(--primary-dim); color: var(--primary); }

        .text-gradient {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* --- HEADER & NAV --- */
        #header {
            position: fixed; top: 0; width: 100%; height: var(--nav-height);
            background: var(--card-bg); backdrop-filter: blur(15px);
            z-index: 1000; border-bottom: 1px solid var(--border);
            display: flex; align-items: center; transition: background 0.3s;
        }
        .nav-container { display: flex; justify-content: space-between; align-items: center; width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .logo { font-size: 1.5rem; font-weight: 800; letter-spacing: -0.5px; display: flex; align-items: center; gap: 5px; }
        .logo span:first-child { color: var(--primary); }
        .navbar-menu { display: flex; gap: 2.5rem; }
        .navbar-menu a { font-weight: 500; font-size: 0.95rem; position: relative; opacity: 0.8; color: var(--text-light); }
        .navbar-menu a:hover { opacity: 1; color: var(--primary); }
        .menu-toggle { display: none; font-size: 1.5rem; cursor: pointer; color: var(--text-light); }

        /* --- HERO SECTION --- */
        #home { padding-top: calc(var(--nav-height) + 5rem); padding-bottom: 6rem; min-height: 100vh; display: flex; align-items: center; position: relative; }
        .hero-wrapper { display: flex; align-items: center; gap: 4rem; flex-direction: row; }
        .hero-content { flex: 1.2; }

        .hero-badges-container { display: flex; flex-wrap: wrap; align-items: center; gap: 12px; margin-bottom: 1.5rem; }
        .hero-badge { display: inline-flex; align-items: center; gap: 8px; background: var(--primary-dim); border: 1px solid rgba(255, 255, 255, 0.1); border-left: 3px solid var(--primary); padding: 6px 16px; border-radius: 4px; color: var(--primary); font-weight: 600; font-size: 0.85rem; transition: var(--transition); }
        .hero-badge:hover { transform: translateY(-2px); background: rgba(255,255,255,0.05); }
        .github-badge-img { height: 26px; border-radius: 4px; transition: var(--transition); }
        .github-badge-img:hover { transform: translateY(-2px); }

        /* Weather Widget */
        .weather-widget {
            display: inline-flex; align-items: center; gap: 15px;
            background: var(--card-bg); border: 1px solid var(--border);
            padding: 10px 18px; border-radius: 50px; margin-bottom: 1.5rem;
            font-size: 0.9rem; color: var(--text-light); backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); animation: fadeIn 0.8s ease-out;
        }
        .weather-location { font-weight: 700; color: var(--primary); display: flex; align-items: center; gap: 6px; }
        .weather-info { display: flex; align-items: center; gap: 12px; border-left: 1px solid var(--border); padding-left: 12px; }
        .weather-item { display: flex; align-items: center; gap: 6px; }

        .hero-title { margin-bottom: 1.5rem; }
        .hero-description { font-size: 1.15rem; max-width: 600px; margin-bottom: 2.5rem; line-height: 1.7; }
        .hero-stats { display: flex; gap: 3rem; margin-top: 3.5rem; padding-top: 2rem; border-top: 1px solid var(--border); }
        .stat-item h3 { color: var(--primary); margin-bottom: 0.2rem; font-size: 2rem; }
        .stat-item p { font-size: 0.9rem; color: var(--text-gray); }

        .hero-image { flex: 0.8; display: flex; justify-content: center; position: relative; }
        .profile-photo {
            width: 100%; max-width: 380px; aspect-ratio: 1/1;
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            object-fit: cover; object-position: top center;
            transform: translateY(-20px); border: 2px solid var(--primary-dim);
            box-shadow: 0 0 60px var(--primary-dim);
            animation: morph 8s ease-in-out infinite; background: #111;
        }
        @keyframes morph {
            0% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
            50% { border-radius: 70% 30% 30% 70% / 70% 70% 30% 30%; }
            100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
        }

        /* Floating Hero Messages */
        .hero-msg-bubble {
            position: absolute; background: rgba(15, 15, 15, 0.9); backdrop-filter: blur(10px);
            border: 1px solid var(--border); border-left: 3px solid var(--primary); border-radius: 8px;
            padding: 8px 12px; max-width: 180px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); z-index: 100;
            font-size: 0.8rem; cursor: grab; user-select: none; touch-action: none; transition: border-color 0.3s;
        }
        .hero-msg-bubble:active { cursor: grabbing; border-color: var(--secondary); }
        .hero-msg-bubble strong { color: var(--primary); display: block; font-size: 0.7rem; margin-bottom: 2px; text-transform: uppercase; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .hero-msg-bubble p { margin: 0; color: #eee; line-height: 1.25; font-size: 0.8rem; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

        /* --- SECTIONS COMMON --- */
        section { padding: 6rem 0; }
        .section-header { text-align: center; margin-bottom: 4rem; }
        .section-subtitle { color: var(--primary); text-transform: uppercase; letter-spacing: 2px; font-size: 0.85rem; font-weight: 700; display: block; margin-bottom: 0.5rem; }
        .section-title { position: relative; display: inline-block; }

        /* --- ACHIEVEMENTS --- */
        .achievements-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .achievement-card { background: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%); border: 1px solid var(--border); padding: 2rem; border-radius: 16px; position: relative; transition: var(--transition); }
        .achievement-card::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--primary); border-radius: 4px 0 0 4px; }
        .achievement-card:hover { transform: translateY(-5px); background: rgba(255,255,255,0.05); border-color: var(--primary); }
        .achievement-icon { font-size: 2rem; color: var(--secondary); margin-bottom: 1rem; }
        .achievement-card h3 { font-size: 1.3rem; margin-bottom: 0.5rem; }
        .achievement-highlight { color: var(--primary); font-weight: 600; font-size: 0.9rem; }

        /* --- EXPERIENCE TIMELINE --- */
        .timeline { position: relative; max-width: 900px; margin: 0 auto; }
        .timeline::after { content: ''; position: absolute; width: 2px; background: linear-gradient(to bottom, var(--primary), var(--secondary), transparent); top: 0; bottom: 0; left: 50%; margin-left: -1px; }
        .timeline-item { padding: 10px 50px; position: relative; width: 50%; }
        .left { left: 0; text-align: right; }
        .right { left: 50%; text-align: left; }
        .timeline-item::after { content: ''; position: absolute; width: 14px; height: 14px; background: var(--dark); border: 3px solid var(--primary); top: 28px; border-radius: 50%; z-index: 2; box-shadow: 0 0 10px var(--primary); }
        .left::after { right: -7px; } .right::after { left: -7px; }
        .timeline-content { padding: 25px; background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border); position: relative; transition: var(--transition); }
        .timeline-content:hover { border-color: var(--secondary); transform: scale(1.02); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .timeline-date { display: inline-block; color: var(--primary); font-size: 0.85rem; font-weight: 700; margin-bottom: 0.5rem; text-transform: uppercase; }
        .timeline-content ul { text-align: left; padding-left: 15px; margin-top: 10px; }
        .left .timeline-content ul { direction: rtl; text-align: right; padding-right: 15px; padding-left: 0; }
        .timeline-content li { font-size: 0.9rem; margin-bottom: 6px; color: var(--text-gray); list-style-type: none; position: relative; }
        .right .timeline-content li::before { content: '▹'; color: var(--primary); position: absolute; left: -15px; }
        .left .timeline-content li::after { content: '◃'; color: var(--primary); position: absolute; right: -15px; }

        /* --- PROJECTS --- */
        .projects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; }
        .project-card.featured { grid-column: span 1; border-color: var(--primary); background: linear-gradient(160deg, var(--primary-dim) 0%, rgba(10,10,10,0.8) 100%); }
        @media (min-width: 992px) {
            .project-card.featured { grid-column: span 2; display: flex; flex-direction: row; align-items: center; gap: 2rem; }
            .project-card.featured .project-content { flex: 1; }
            .project-card.featured .project-visual { flex: 0.8; height: 100%; min-height: 250px; background: rgba(0,0,0,0.3); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 4rem; color: var(--primary); }
        }
        .project-card { background: var(--card-bg); border: 1px solid var(--border); border-radius: 16px; padding: 2rem; transition: var(--transition); display: flex; flex-direction: column; position: relative; overflow: hidden; }
        .project-card:hover { transform: translateY(-8px); border-color: var(--secondary); box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4); }
        .project-icon { font-size: 2rem; color: var(--primary); margin-bottom: 1rem; }
        .project-card h3 { margin-bottom: 0.8rem; font-size: 1.4rem; }
        .project-card p { font-size: 0.95rem; margin-bottom: 1.5rem; flex-grow: 1; }
        .tech-tags { display: flex; flex-wrap: wrap; gap: 0.6rem; margin-bottom: 1.5rem; }
        .tech-tags span { background: rgba(255, 255, 255, 0.05); padding: 5px 12px; border-radius: 20px; font-size: 0.75rem; color: var(--text-light); border: 1px solid rgba(255,255,255,0.05); }
        .project-links { display: flex; gap: 1rem; margin-top: auto; }
        .link-btn { font-size: 0.9rem; font-weight: 600; color: var(--primary); display: flex; align-items: center; gap: 5px; }
        .link-btn:hover { text-decoration: underline; color: var(--secondary); }

        /* --- SKILLS --- */
        .skills-content { display: grid; grid-template-columns: 1fr 1.5fr; gap: 4rem; align-items: center; }
        .skills-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 1.2rem; }
        .skill-card { background: var(--card-bg); border: 1px solid var(--border); padding: 1.2rem; border-radius: 12px; text-align: center; transition: var(--transition); display: flex; flex-direction: column; align-items: center; justify-content: center; height: 120px; }
        .skill-card:hover { border-color: var(--primary); transform: translateY(-5px); box-shadow: 0 5px 15px var(--primary-dim); }
        .skill-icon { font-size: 2rem; margin-bottom: 0.8rem; background: -webkit-linear-gradient(var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* --- BLOG SECTION --- */
        .blog-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; }
        .blog-card { background: var(--card-bg); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; display: flex; flex-direction: row; transition: var(--transition); cursor: pointer; }
        .blog-card:hover { border-color: var(--secondary); transform: translateY(-5px); }
        .vote-section { background: rgba(0,0,0,0.2); padding: 1rem 0.5rem; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; min-width: 50px; border-right: 1px solid var(--border); }
        .vote-btn { background: none; border: none; color: var(--text-gray); font-size: 1.2rem; cursor: pointer; padding: 5px; transition: 0.2s; }
        .vote-btn:hover { color: var(--primary); background: rgba(255,255,255,0.05); border-radius: 4px; }
        .vote-count { font-weight: 700; font-size: 0.9rem; margin: 5px 0; color: var(--text-light); }
        .blog-content { padding: 1.5rem; flex: 1; display: flex; flex-direction: column; position: relative; }
        .blog-meta { font-size: 0.75rem; color: var(--text-gray); margin-bottom: 0.5rem; display: flex; align-items: center; gap: 10px; }
        .blog-title { font-size: 1.3rem; margin-bottom: 0.3rem; line-height: 1.3; }
        .blog-subtitle { font-size: 0.9rem; color: var(--primary); margin-bottom: 1rem; font-weight: 500; }
        .blog-image { width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 1rem; border: 1px solid var(--border); background: #111; }
        .blog-text-preview { font-size: 0.95rem; color: var(--text-gray); line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }

        /* Read Post Modal */
        #readPostModal .modal-content { width: 95%; max-width: 900px; height: 90vh; padding: 0; overflow: hidden; display: flex; flex-direction: column; text-align: left; background: var(--darker); }
        .read-modal-body { padding: 2rem; overflow-y: auto; height: 100%; }
        .read-modal-image { width: 100%; max-height: 400px; object-fit: cover; border-radius: 8px; margin: 1rem 0; border: 1px solid var(--border); }
        .read-modal-text { font-size: 1rem; line-height: 1.8; color: var(--text-light); }
        .read-modal-text img { max-width: 100%; height: auto; border-radius: 8px; }

        /* Quill Editor overrides */
        .ql-toolbar.ql-snow { background: #e0e0e0; border-color: var(--border) !important; border-radius: 8px 8px 0 0; }
        .ql-container.ql-snow { border-color: var(--border) !important; border-radius: 0 0 8px 8px; background: rgba(0,0,0,0.3); color: var(--text-light); font-family: var(--font-main); font-size: 1rem; }
        .ql-editor { min-height: 150px; }

        /* --- SPOTIFY --- */
        .spotify-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem; }
        .spotify-card { background: rgba(29, 185, 84, 0.05); border: 1px solid rgba(29, 185, 84, 0.2); padding: 1rem; border-radius: 12px; display: flex; align-items: center; gap: 15px; transition: var(--transition); }
        .spotify-card:hover { background: rgba(29, 185, 84, 0.15); transform: translateY(-5px); box-shadow: 0 5px 15px rgba(29, 185, 84, 0.2); }
        .track-art { width: 60px; height: 60px; border-radius: 8px; object-fit: cover; }
        .track-info { display: flex; flex-direction: column; overflow: hidden; }
        .track-name { font-weight: 700; color: var(--text-light); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 3px; }
        .track-artist { font-size: 0.85rem; color: var(--text-gray); }

        /* --- COMMUNITY STATS & CHAT --- */
        #community-stats { background: linear-gradient(to top, var(--dark), var(--darker)); position: relative; padding-bottom: 0; }
        .stats-wrapper { max-width: 800px; margin: 0 auto; }
        .discussion-form-card { background: var(--card-bg); padding: 1.5rem; border-radius: 12px; border: 1px solid var(--border); box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-bottom: 2rem; }
        .discussion-form-card input, .discussion-form-card textarea { background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); margin-bottom: 0.8rem; }
        .discussion-form-card button { width: 100%; }
        .messages-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 2rem; }
        .message-card { background: rgba(255,255,255,0.03); border: 1px solid var(--border); padding: 1.5rem; border-radius: 12px 12px 12px 0; position: relative; animation: fadeIn 0.5s ease; }
        .message-card strong { display: block; color: var(--primary); font-size: 0.9rem; margin-bottom: 0.5rem; }
        .message-card p { font-size: 0.95rem; color: var(--text-light); margin-bottom: 0.5rem; line-height: 1.5; }
        .message-time { font-size: 0.75rem; color: var(--text-gray); text-align: right; display: block; }

        /* --- CONTACT & FOOTER --- */
        #contact { background: linear-gradient(to top, var(--darker), var(--dark)); padding: 6rem 0 2rem; border-top: 1px solid var(--border); }
        .footer-wrapper { display: grid; grid-template-columns: 1fr 1fr; gap: 5rem; }
        .contact-card { background: var(--card-bg); padding: 2.5rem; border-radius: 20px; border: 1px solid var(--border); }
        input, textarea { width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid var(--border); padding: 1rem 1.2rem; border-radius: 8px; color: white; font-family: inherit; outline: none; transition: var(--transition); margin-bottom: 1rem; }
        input:focus, textarea:focus { border-color: var(--primary); background: rgba(0, 255, 136, 0.02); box-shadow: 0 0 10px var(--primary-dim); }
        textarea { min-height: 140px; resize: vertical; }
        .social-links { display: flex; gap: 1rem; margin-top: 2rem; }
        .social-btn { width: 45px; height: 45px; border-radius: 50%; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; font-size: 1.1rem; border: 1px solid rgba(255,255,255,0.1); }
        .social-btn:hover { background: var(--primary); color: var(--dark); transform: translateY(-5px); }
        .footer-bottom { margin-top: 5rem; padding-top: 2rem; border-top: 1px solid var(--border); display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1.5rem; text-align: center; }
        .view-counter { font-size: 0.9rem; color: var(--text-light); background: rgba(255,255,255,0.05); padding: 6px 15px; border-radius: 20px; display: flex; align-items: center; gap: 8px; border: 1px solid var(--border); }

        /* --- THEME SWITCHER UI --- */
        .theme-toggle-btn { position: fixed; top: 100px; right: 0; width: 45px; height: 45px; background: var(--card-bg); border-radius: 8px 0 0 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 999; border: 1px solid var(--border); border-right: none; color: var(--primary); box-shadow: -5px 5px 15px rgba(0,0,0,0.2); transition: var(--transition); }
        .theme-toggle-btn:hover { background: var(--darker); }
        
        .theme-panel { position: fixed; top: 100px; right: -360px; width: 340px; background: var(--darker); backdrop-filter: blur(15px); border-radius: 0 0 0 12px; border: 1px solid var(--border); border-right: none; z-index: 998; padding: 1.5rem; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); max-height: 85vh; overflow-y: auto; }
        .theme-panel.active { right: 0; }
        
        .theme-section-title { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; color: var(--text-gray); margin-bottom: 0.8rem; margin-top: 1.2rem; display: block; }
        
        .mode-options, .font-options { display: flex; gap: 10px; flex-wrap: wrap; }
        .option-btn { flex: 1 1 30%; padding: 8px; background: rgba(255,255,255,0.05); border: 1px solid var(--border); border-radius: 6px; cursor: pointer; color: var(--text-light); font-size: 0.85rem; text-align: center; transition: var(--transition); }
        .option-btn.active { background: var(--primary); color: var(--dark); font-weight: 600; }
        
        /* Custom Color Picker Styling */
        .color-picker-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .color-input-wrapper { flex: 1; display: flex; align-items: center; background: rgba(255,255,255,0.05); padding: 5px; border-radius: 6px; border: 1px solid var(--border); }
        input[type="color"] { border: none; width: 30px; height: 30px; cursor: pointer; background: none; margin-right: 10px; }
        .hex-display { font-family: var(--font-code); font-size: 0.85rem; color: var(--text-light); opacity: 0.8; }

        .theme-actions { margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid var(--border); display: flex; gap: 10px; }
        .theme-action-btn { flex: 1; padding: 8px; border-radius: 6px; border: none; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: var(--transition); }
        .btn-save { background: var(--primary); color: var(--dark); }
        .btn-reset { background: rgba(255,255,255,0.1); color: var(--text-light); }

        /* --- FLOATING UI --- */
        .whatsapp-float { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: #25D366; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4); cursor: pointer; z-index: 900; transition: var(--transition); }
        .whatsapp-float:hover { transform: scale(1.1) rotate(10deg); }
        
        .like-float-btn { position: fixed; bottom: 30px; left: 30px; display: flex; align-items: center; gap: 10px; z-index: 900; background: var(--card-bg); backdrop-filter: blur(5px); padding: 8px 16px 8px 8px; border-radius: 50px; border: 1px solid var(--border); cursor: pointer; transition: var(--transition); }
        .like-float-btn:hover { border-color: #ff0055; transform: scale(1.05); }
        .like-icon-circle { width: 45px; height: 45px; background: rgba(255, 0, 85, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #ff0055; font-size: 1.2rem; transition: var(--transition); }
        .like-float-btn.liked .like-icon-circle { background: #ff0055; color: white; animation: popHeart 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes popHeart { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
        .like-count-text { color: var(--text-light); font-weight: 700; font-size: 0.9rem; }

        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .modal-content { background: var(--darker); padding: 2.5rem; border-radius: 16px; width: 90%; max-width: 400px; border: 1px solid var(--border); text-align: center; position: relative; }
        .close-modal { position: absolute; top: 15px; right: 15px; font-size: 1.5rem; cursor: pointer; color: var(--text-gray); }
        .action-btn { padding: 1rem; border-radius: 8px; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 1rem; }
        .btn-wa { background: #25D366; color: white; }
        .btn-mail { background: var(--primary); color: var(--dark); }

        /* Mobile Bottom Nav */
        .mobile-bottom-nav {
            display: none; position: fixed; bottom: 0; left: 0; width: 100%; height: 65px;
            background: var(--card-bg); backdrop-filter: blur(15px); border-top: 1px solid var(--border);
            z-index: 1001; justify-content: space-around; align-items: center;
            padding-bottom: env(safe-area-inset-bottom); transition: background 0.3s;
        }
        .mobile-bottom-nav .nav-item {
            color: var(--text-gray); font-size: 1.3rem; padding: 10px; cursor: pointer;
            transition: var(--transition); display: flex; align-items: center; justify-content: center; flex: 1; height: 100%;
        }
        .mobile-bottom-nav .nav-item:hover, .mobile-bottom-nav .nav-item.active { color: var(--primary); }

        /* Responsive */
        @media screen and (max-width: 992px) {
            .hero-wrapper { flex-direction: column-reverse; text-align: center; gap: 3rem; }
            .hero-stats { justify-content: center; }
            .skills-content { grid-template-columns: 1fr; text-align: center; }
            .skills-grid { justify-content: center; }
            .footer-wrapper { grid-template-columns: 1fr; gap: 3rem; }
            .stats-wrapper { max-width: 100%; }
        }
        @media screen and (max-width: 768px) {
            .menu-toggle { display: block; }
            .nav-container nav { display: none; }
            .navbar-menu { display: none; }
            .mobile-bottom-nav { display: flex; }
            #contact { padding-bottom: 6rem; }
            .footer-bottom { margin-bottom: 3rem; }
            .whatsapp-float, .like-float-btn { bottom: 90px !important; }
            .blog-card { flex-direction: column; }
            .vote-section { flex-direction: row; border-right: none; border-top: 1px solid var(--border); justify-content: space-around; width: 100%; padding: 8px 0; }
            .timeline::after { left: 31px; } 
            .timeline-item { width: 100%; padding-left: 70px; padding-right: 20px; margin-bottom: 20px; }
            .right { left: 0; } 
            .timeline-item::after { left: 24px; right: auto; }
            .left, .right { text-align: left; }
            .left .timeline-content ul { direction: ltr; text-align: left; padding-left: 15px; padding-right: 0; }
            .left .timeline-content li::after { content: none; }
            .left .timeline-content li::before { content: '▹'; color: var(--primary); position: absolute; left: -15px; }
            h1 { font-size: 2.5rem; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header id="header">
        <div class="nav-container">
            <a href="#" class="logo">
                <i class="fas fa-code" style="color:var(--primary);"></i>
                <span>Chandan</span><span>Saroj</span>
            </a>
            <div class="menu-toggle" id="mobile-menu"><i class="fas fa-bars"></i></div>
            <nav>
                <ul class="navbar-menu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#experience">Experience</a></li>
                    <li><a href="#projects">Work</a></li>
                    <li><a href="#skills">Skills</a></li>
                    <li><a href="#blog">Blog</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Theme Toggle Button -->
    <div class="theme-toggle-btn" id="themeToggleBtn"><i class="fas fa-palette"></i></div>

    <!-- THEME PANEL -->
    <div class="theme-panel" id="themePanel">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
            <h4 style="color:white;">Theme Settings</h4>
            <i class="fas fa-times" id="closeThemePanel" style="cursor:pointer; opacity:0.7;"></i>
        </div>

        <!-- 1. Background Modes -->
        <span class="theme-section-title">Background Mode</span>
        <div class="mode-options">
            <div class="option-btn mode-btn active" data-mode="dark">Dark</div>
            <div class="option-btn mode-btn" data-mode="light">Light</div>
            <div class="option-btn mode-btn" data-mode="vscode">VS Code</div>
            <div class="option-btn mode-btn" data-mode="midnight">Midnight</div>
        </div>

        <!-- 2. Custom Color Pickers -->
        <span class="theme-section-title">Primary Color</span>
        <div class="color-input-wrapper">
            <input type="color" id="primaryColorInput" value="#00ff88">
            <span class="hex-display" id="primaryHex">#00ff88</span>
        </div>

        <span class="theme-section-title">Secondary Color</span>
        <div class="color-input-wrapper">
            <input type="color" id="secondaryColorInput" value="#00ccff">
            <span class="hex-display" id="secondaryHex">#00ccff</span>
        </div>

        <!-- 3. Fonts -->
        <span class="theme-section-title">Typography</span>
        <div class="font-options">
            <div class="option-btn font-btn active" data-font="'Inter', sans-serif">Modern</div>
            <div class="option-btn font-btn" data-font="'Fira Code', monospace">Coder</div>
            <div class="option-btn font-btn" data-font="'Orbitron', sans-serif">Sci-Fi</div>
            <div class="option-btn font-btn" data-font="'Noto Sans JP', sans-serif">JP</div>
            <div class="option-btn font-btn" data-font="'Zen Tokyo Zoo', cursive">Anime</div>
        </div>

        <div class="theme-actions">
            <button class="theme-action-btn btn-save" id="saveThemeBtn">Save to Cloud</button>
            <button class="theme-action-btn btn-reset" id="resetThemeBtn">Reset</button>
        </div>
    </div>

    <main>
        <!-- Hero Section -->
        <section id="home">
            <div class="container hero-wrapper">
                <div class="hero-content">
                    
                    <div class="hero-badges-container">
                        <div class="hero-badge"><i class="fas fa-trophy"></i> National Hackathon Winner</div>
                        <a href="https://github.com/chandanXP" target="_blank"><img src="https://img.shields.io/github/followers/chandanXP?style=social" alt="GitHub Followers" class="github-badge-img"></a>
                        <div class="hero-badge" style="border-left-color: var(--secondary);"><i class="fas fa-rocket"></i> Shipping Live Apps</div>
                    </div>
                    
                    <!-- WEATHER WIDGET -->
                    <div id="weather-widget" class="weather-widget" style="display:none;">
                        <span class="weather-location" id="weatherLocation"><i class="fas fa-map-marker-alt"></i> <span>...</span></span>
                        <div class="weather-info">
                            <span class="weather-item" id="weatherTemp"><i class="fas fa-thermometer-half"></i> <span>--°C</span></span>
                            <span class="weather-item" id="weatherCondition"><i class="fas fa-cloud"></i> <span>--</span></span>
                             <span class="weather-item" id="weatherAQI" style="border-left:1px solid var(--border); padding-left:10px; margin-left:5px;"><i class="fas fa-wind"></i> <span>AQI: --</span></span>
                        </div>
                    </div>

                    <h1 class="hero-title">Senior <span class="text-gradient">MERN Stack</span> Developer</h1>
                    <p class="hero-description">
                        Hi, I'm Chandan. I specialize in taking industry-oriented projects from localhost to live production. Currently at <strong>WebC</strong>, I build high-performance booking engines, fintech dashboards, and secure backend architectures using React, Node.js, and Jenkins CI/CD.
                    </p>
                    <div>
                        <a href="#projects" class="btn">View Live Projects</a>
                        <a href="https://github.com/chandanXP" target="_blank" class="btn btn-outline"><i class="fab fa-github"></i> GitHub</a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item"><h3>2.2+</h3><p>Years Exp.</p></div>
                        <div class="stat-item"><h3>3+</h3><p>Live Enterprise Apps</p></div>
                        <div class="stat-item"><h3>99.9%</h3><p>Server Uptime</p></div>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="assets/img/chandan-saroj.png" onerror="this.src='https://ui-avatars.com/api/?name=Chandan+Saroj&background=00ff88&color=000&size=400&font-size=0.33'" alt="Chandan Saroj" class="profile-photo">
                    <div id="heroMessages" class="hero-messages-overlay"></div>
                </div>
            </div>
        </section>

        <!-- Achievements -->
        <section id="achievements">
            <div class="container">
                <div class="section-header">
                    <span class="section-subtitle">Honors & Awards</span>
                    <h2 class="section-title">Recognition</h2>
                </div>
                <div class="achievements-grid">
                    <div class="achievement-card">
                        <i class="fas fa-medal achievement-icon"></i>
                        <h3>2nd Runner Up</h3>
                        <p class="achievement-highlight">Paranox 2.0 National Hackathon</p>
                        <p>Ranked Top 3 among 1,552 projects nationwide. Built "SmartLane AI" for emergency traffic management.</p>
                    </div>
                    <div class="achievement-card">
                        <i class="fas fa-scroll achievement-icon"></i>
                        <h3>Best Research Paper</h3>
                        <p class="achievement-highlight">NICEDT 2025</p>
                        <p>Awarded for excellence in AI/ML research. Published 6 citations in Springer Journals.</p>
                    </div>
                    <div class="achievement-card">
                        <i class="fas fa-shield-alt achievement-icon"></i>
                        <h3>Security Expert</h3>
                        <p class="achievement-highlight">SHA-256 Implementation</p>
                        <p>Engineered zero-knowledge proof systems for 30,000+ sensitive government exam files.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Experience Timeline -->
        <section id="experience">
            <div class="container">
                <div class="section-header">
                    <span class="section-subtitle">Career Path</span>
                    <h2 class="section-title">Professional Journey</h2>
                </div>
                <div class="timeline">
                    <!-- WebC -->
                    <div class="timeline-item left">
                        <div class="timeline-content">
                            <span class="timeline-date">Jan 2026 - Present</span>
                            <h3>Senior MERN Stack Developer</h3>
                            <h4>Webcreaters (WebC)</h4>
                            <ul>
                                <li>Leading development of <strong>2 Live Industry Projects</strong> (Hidout & AksumBase).</li>
                                <li>Architected Booking Engine & JWT Auth for <strong>The Hidout</strong>.</li>
                                <li>Deployed <strong>AksumBase</strong> to Ubuntu VPS with Nginx (99.9% Uptime).</li>
                                <li>Integrated live financial APIs for <strong>SimpleBit</strong> dashboard.</li>
                            </ul>
                        </div>
                    </div>
                    <!-- NIELIT SDE -->
                    <div class="timeline-item right">
                        <div class="timeline-content">
                            <span class="timeline-date">May 2024 - Dec 2025</span>
                            <h3>Software Development Engineer</h3>
                            <h4>NIELIT (Govt. of India)</h4>
                            <ul>
                                <li>Engineered secure <strong>REST API</strong> gateways handling 500+ concurrent requests.</li>
                                <li>Implemented <strong>SHA-256 encryption</strong> for 30,000+ secure files.</li>
                                <li>Built "Amigo" VS Code extension using TypeScript.</li>
                            </ul>
                        </div>
                    </div>
                    <!-- NIELIT Intern -->
                    <div class="timeline-item left">
                        <div class="timeline-content">
                            <span class="timeline-date">Jan 2023 - Apr 2024</span>
                            <h3>Web Dev & AI/ML Intern</h3>
                            <h4>NIELIT</h4>
                            <ul>
                                <li>Developed full-stack LMS using Django & React.</li>
                                <li>Led the Identity Card Automation project using Python & MongoDB.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Grid -->
        <section id="projects">
            <div class="container">
                <div class="section-header">
                    <span class="section-subtitle">Portfolio</span>
                    <h2 class="section-title">Live Projects</h2>
                </div>
                <div class="projects-grid">
                    <!-- Project 1: SmartLane AI (FEATURED) -->
                    <div class="project-card featured">
                        <div class="project-visual"><i class="fas fa-traffic-light"></i></div>
                        <div class="project-content">
                            <div class="hero-badge" style="margin-bottom: 10px; padding: 4px 12px; font-size: 0.7rem;">Winning Project</div>
                            <h3>SmartLane AI</h3>
                            <p>An Intelligent Traffic Management System using YOLOv8 and Custom CNNs (99.2% Accuracy) to prioritize emergency vehicles.</p>
                            <div class="tech-tags"><span>YOLOv8</span><span>TensorFlow</span><span>Python</span><span>OpenCV</span></div>
                            <div class="project-links"><a href="https://paranox-sourcecode.hf.space" target="_blank" class="link-btn"><i class="fas fa-external-link-alt"></i> Live Demo</a></div>
                        </div>
                    </div>
                    <!-- Project 2: Hidout -->
                    <div class="project-card">
                        <i class="fas fa-hotel project-icon"></i>
                        <h3>The Hidout</h3>
                        <p>Comprehensive Booking Platform with a complex reservation engine, secure Merchant Panel (JWT), and CMS. Live production build.</p>
                        <div class="tech-tags"><span>React</span><span>Node.js</span><span>JWT</span><span>MongoDB</span></div>
                        <div class="project-links"><a href="https://dev.thehidout.com/" target="_blank" class="link-btn"><i class="fas fa-external-link-alt"></i> Live Site</a></div>
                    </div>
                    <!-- Project 3: SimpleBit -->
                    <div class="project-card">
                        <i class="fas fa-chart-line project-icon"></i>
                        <h3>SimpleBit Dashboard</h3>
                        <p>High-performance Fintech dashboard integrating live financial APIs for real-time crypto tracking and data visualization.</p>
                        <div class="tech-tags"><span>TypeScript</span><span>React</span><span>Fintech API</span></div>
                        <div class="project-links"><a href="https://app.simple-bit.com/login" target="_blank" class="link-btn"><i class="fas fa-external-link-alt"></i> Live Site</a></div>
                    </div>
                    <!-- Project 4: AksumBase -->
                    <div class="project-card">
                        <i class="fas fa-server project-icon"></i>
                        <h3>AksumBase</h3>
                        <p>Resource management backend deployed on private Ubuntu VPS. Configured Nginx Reverse Proxy for 99.9% uptime.</p>
                        <div class="tech-tags"><span>VPS</span><span>Nginx</span><span>DevOps</span><span>Express</span></div>
                        <div class="project-links"><a href="https://aksumbase.com/" target="_blank" class="link-btn"><i class="fas fa-external-link-alt"></i> Live Site</a></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills">
            <div class="container skills-content">
                <div class="skills-text">
                    <span class="section-subtitle">Technical Arsenal</span>
                    <h2 class="section-title">Skills & Expertise</h2>
                    <p style="margin-top: 1.5rem;">I combine strong backend engineering with modern frontend frameworks and DevOps capabilities (Jenkins/Docker).</p>
                    <a href="assets/resume.pdf" target="_blank" class="btn" style="margin-top: 1rem;"><i class="fas fa-download"></i> Download Resume</a>
                </div>
                <div class="skills-grid">
                    <div class="skill-card"><i class="fab fa-js skill-icon"></i><span>JavaScript</span></div>
                    <div class="skill-card"><i class="fab fa-react skill-icon"></i><span>React / Redux</span></div>
                    <div class="skill-card"><i class="fab fa-node skill-icon"></i><span>Node.js</span></div>
                    <div class="skill-card"><i class="fas fa-code skill-icon"></i><span>TypeScript</span></div>
                    <div class="skill-card"><i class="fas fa-database skill-icon"></i><span>MongoDB</span></div>
                    <div class="skill-card"><i class="fab fa-jenkins skill-icon"></i><span>Jenkins CI/CD</span></div>
                    <div class="skill-card"><i class="fab fa-docker skill-icon"></i><span>Docker</span></div>
                    <div class="skill-card"><i class="fas fa-server skill-icon"></i><span>Nginx / VPS</span></div>
                </div>
            </div>
        </section>

        <!-- BLOG SECTION -->
        <section id="blog">
            <div class="container">
                <div class="section-header">
                    <span class="section-subtitle">Insights & Updates</span>
                    <h2 class="section-title">Latest Posts</h2>
                    <button id="createPostBtn" class="btn" style="margin-top:20px; display:block; margin-left:auto; margin-right:auto;">+ New Post</button>
                </div>
                <div id="blog-feed" class="blog-grid"><div style="text-align:center; width:100%; color:var(--text-gray);">Loading posts...</div></div>
            </div>
        </section>

        <!-- SPOTIFY SECTION -->
        <section id="spotify">
            <div class="container">
                <div class="section-header" style="margin-bottom: 2rem;">
                    <span class="section-subtitle" style="color:#1DB954;">My Vibe</span>
                    <h2 class="section-title">Recently Played <i class="fab fa-spotify" style="color:#1DB954;"></i></h2>
                </div>
                <div class="spotify-grid" id="spotifyTracks"><!-- Tracks injected via JS --></div>
            </div>
        </section>

        <!-- COMMUNITY CHAT -->
        <section id="community-stats">
            <div class="container">
                <div class="section-header">
                    <span class="section-subtitle">Community & Stats</span>
                    <h2 class="section-title">Traffic & Thoughts</h2>
                </div>
                <div class="stats-wrapper">
                     <div class="discussion-form-card">
                        <input type="text" id="msgName" placeholder="Your Name (Optional)" maxlength="30">
                        <textarea id="msgText" placeholder="Type your message here..." maxlength="280"></textarea>
                        <button id="postMsgBtn" class="btn">Post Message</button>
                    </div>
                </div>
                <div class="messages-grid" id="messagesGrid"><div style="text-align:center; width:100%; color:var(--text-gray);">Loading messages...</div></div>
            </div>
        </section>

        <!-- CONTACT -->
        <footer id="contact">
            <div class="container footer-wrapper">
                <div class="footer-info">
                    <h2 style="font-size: 2.5rem;">Let's Build Something Amazing</h2>
                    <p style="margin-top: 1rem; max-width: 400px;">I'm open to freelance projects and full-time roles.</p>
                    <div class="social-links">
                        <a href="https://linkedin.com/in/chandan-saroj" target="_blank" class="social-btn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://github.com/chandanXP" target="_blank" class="social-btn"><i class="fab fa-github"></i></a>
                        <a href="mailto:imjunior471@gmail.com" class="social-btn"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
                <div class="contact-card">
                    <form id="contactForm">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <input type="text" name="name" placeholder="Name" required />
                            <input type="email" name="email" placeholder="Email" required />
                        </div>
                        <input type="text" name="subject" placeholder="Subject" required />
                        <textarea name="message" placeholder="Message" required></textarea>
                        <button type="submit" class="btn" style="width: 100%;">Send Message</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="copyright">&copy; 2026 Chandan Saroj. Built with React logic & HTML5.</div>
                <div style="display: flex; gap: 15px; margin-top: 10px;">
                    <div class="view-counter"><i class="fas fa-globe"></i> <span id="globalViewCount" style="margin: 0 4px; font-weight:700;">...</span> Total</div>
                    <div class="view-counter"><i class="fas fa-eye"></i> <span id="todayViewCount" style="margin: 0 4px; font-weight:700;">...</span> Today</div>
                </div>
            </div>
        </footer>
    </main>

    <!-- Floating Elements -->
    <nav class="mobile-bottom-nav">
        <a href="#home" class="nav-item"><i class="fas fa-home"></i></a>
        <a href="#experience" class="nav-item"><i class="fas fa-briefcase"></i></a>
        <a href="#projects" class="nav-item"><i class="fas fa-layer-group"></i></a>
        <a href="#blog" class="nav-item"><i class="fas fa-newspaper"></i></a>
        <a href="#community-stats" class="nav-item"><i class="fas fa-comment-alt"></i></a>
        <div class="nav-item" id="mobileThemeBtn"><i class="fas fa-cog"></i></div>
    </nav>
    <div class="whatsapp-float" id="whatsappBtn"><i class="fab fa-whatsapp"></i></div>
    <div class="like-float-btn" id="likeBtn"><div class="like-icon-circle"><i class="fas fa-heart"></i></div><span class="like-count-text" id="likeCount">0</span></div>

    <!-- Modals -->
    <div class="modal" id="contactModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <h3 style="color:var(--primary); margin-bottom: 0.5rem;">Quick Connect</h3>
            <div style="margin-top: 1.5rem;">
                <a href="https://wa.me/919315632708" target="_blank" class="action-btn btn-wa"><i class="fab fa-whatsapp"></i> Chat on WhatsApp</a>
                <a href="mailto:imjunior471@gmail.com" class="action-btn btn-mail"><i class="fas fa-envelope"></i> Send Email</a>
            </div>
        </div>
    </div>
    <div class="modal" id="readPostModal">
        <div class="modal-content read-modal-content"><span class="close-modal" id="closeReadModal">&times;</span><div id="readModalBody" class="read-modal-body"></div></div>
    </div>
    <div class="modal" id="blogModal">
        <div class="modal-content">
            <span class="close-modal" id="closeBlogModal">&times;</span>
            <h3 style="color:var(--primary); margin-bottom: 1rem;">New Blog Post</h3>
            <input type="text" id="blogTitle" placeholder="Main Heading" required />
            <input type="text" id="blogSubtitle" placeholder="Sub Heading (Optional)" />
            <input type="text" id="blogImage" placeholder="Image URL (Optional)" />
            <div id="editor-container" style="height: 200px; background: rgba(0,0,0,0.2); border: 1px solid var(--border); color: #ddd; margin-bottom: 1rem;"></div>
            <input type="password" id="blogPassword" placeholder="Admin Password" required />
            <button id="submitPostBtn" class="btn" style="width: 100%;">Publish Post</button>
        </div>
    </div>

    <!-- FIREBASE & JS LOGIC -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";
        import { getFirestore, doc, setDoc, getDoc, addDoc, updateDoc, collection, query, orderBy, limit, onSnapshot, serverTimestamp, runTransaction, increment } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDnSz2NJQZovT3WKjyak9IcVlfYbQBmlVM", authDomain: "chandan-saroj-portfolio.firebaseapp.com",
            projectId: "chandan-saroj-portfolio", storageBucket: "chandan-saroj-portfolio.firebasestorage.app",
            messagingSenderId: "673240575610", appId: "1:673240575610:web:c199ae38e28a41c33715c3", measurementId: "G-WVQXG2QM1T"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        
        let currentUser = null;
        let currentTheme = { primary: '#00ff88', secondary: '#00ccff', font: "'Inter', sans-serif", mode: 'dark' };
        
        signInAnonymously(auth).then(() => console.log("Auth OK"));

        // --- THEME LOGIC (Includes VS Code & Color Picker) ---
        const root = document.documentElement;
        const themeBtn = document.getElementById('themeToggleBtn');
        const themePanel = document.getElementById('themePanel');
        const closeTheme = document.getElementById('closeThemePanel');
        const mobileThemeBtn = document.getElementById('mobileThemeBtn');
        
        const togglePanel = () => themePanel.classList.toggle('active');
        if(themeBtn) themeBtn.onclick = togglePanel;
        if(mobileThemeBtn) mobileThemeBtn.onclick = togglePanel;
        if(closeTheme) closeTheme.onclick = () => themePanel.classList.remove('active');

        // Real-time Color Picker
        const pInput = document.getElementById('primaryColorInput');
        const pHex = document.getElementById('primaryHex');
        const sInput = document.getElementById('secondaryColorInput');
        const sHex = document.getElementById('secondaryHex');

        pInput.addEventListener('input', (e) => {
            const color = e.target.value;
            root.style.setProperty('--primary', color);
            root.style.setProperty('--primary-dim', color + '1A');
            pHex.innerText = color;
            currentTheme.primary = color;
        });

        sInput.addEventListener('input', (e) => {
            const color = e.target.value;
            root.style.setProperty('--secondary', color);
            sHex.innerText = color;
            currentTheme.secondary = color;
        });

        // Mode Switching
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                const mode = btn.getAttribute('data-mode');
                currentTheme.mode = mode;
                
                if (mode === 'light') {
                    root.style.setProperty('--dark', '#ffffff');
                    root.style.setProperty('--darker', '#f3f4f6');
                    root.style.setProperty('--card-bg', '#ffffff');
                    root.style.setProperty('--text-light', '#111827');
                    root.style.setProperty('--text-gray', '#4b5563');
                    root.style.setProperty('--border', 'rgba(0,0,0,0.1)');
                } else if (mode === 'vscode') {
                    root.style.setProperty('--dark', '#1e1e1e');
                    root.style.setProperty('--darker', '#181818');
                    root.style.setProperty('--card-bg', '#252526');
                    root.style.setProperty('--text-light', '#d4d4d4');
                    root.style.setProperty('--text-gray', '#858585');
                    root.style.setProperty('--border', '#3e3e42');
                    root.style.setProperty('--primary', '#007acc');
                    root.style.setProperty('--primary-dim', 'rgba(0, 122, 204, 0.1)');
                    root.style.setProperty('--secondary', '#c586c0');
                    pInput.value = '#007acc'; pHex.innerText = '#007acc';
                    sInput.value = '#c586c0'; sHex.innerText = '#c586c0';
                } else if (mode === 'midnight') {
                    root.style.setProperty('--dark', '#0f172a');
                    root.style.setProperty('--darker', '#020617');
                    root.style.setProperty('--card-bg', 'rgba(30, 41, 59, 0.7)');
                    root.style.setProperty('--text-light', '#f8fafc');
                    root.style.setProperty('--text-gray', '#94a3b8');
                    root.style.setProperty('--border', 'rgba(255,255,255,0.05)');
                } else { // Dark
                    root.style.setProperty('--dark', '#0a0a0a');
                    root.style.setProperty('--darker', '#050505');
                    root.style.setProperty('--card-bg', 'rgba(20, 20, 20, 0.7)');
                    root.style.setProperty('--text-light', '#f0f0f0');
                    root.style.setProperty('--text-gray', '#a0a0a0');
                    root.style.setProperty('--border', 'rgba(255, 255, 255, 0.08)');
                }
            });
        });

        // Font Switching
        document.querySelectorAll('.font-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.font-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                const font = btn.getAttribute('data-font');
                root.style.setProperty('--font-main', font);
                currentTheme.font = font;
            });
        });

        // Save & Reset
        document.getElementById('saveThemeBtn').addEventListener('click', async () => {
            if(!currentUser) return;
            const btn = document.getElementById('saveThemeBtn');
            btn.innerText = "Saving...";
            try {
                await setDoc(doc(db, "website_state", "global_theme"), currentTheme);
                btn.innerText = "Saved!";
                btn.style.background = "#25D366";
            } catch(e) { console.error(e); }
            setTimeout(() => { btn.innerText = "Save to Cloud"; btn.style.background = ""; }, 2000);
        });

        document.getElementById('resetTheme').addEventListener('click', () => location.reload());

        // --- WEATHER LOGIC ---
        const DELHI_COORDS = { lat: 28.6139, lon: 77.2090 };
        async function fetchWeather(lat, lon) {
            try {
                const wRes = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weather_code&timezone=auto`);
                const aRes = await fetch(`https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${lat}&longitude=${lon}&current=us_aqi&timezone=auto`);
                const wData = await wRes.json();
                const aData = await aRes.json();
                
                const temp = Math.round(wData.current.temperature_2m);
                const aqi = aData.current.us_aqi;
                document.getElementById('weatherTemp').innerHTML = `<i class="fas fa-thermometer-half"></i> ${temp}°C`;
                document.getElementById('weatherAQI').innerHTML = `<i class="fas fa-wind"></i> AQI: ${aqi}`;
                document.getElementById('weather-widget').style.display = 'inline-flex';
            } catch(e) { console.error(e); }
        }
        if(navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(p => fetchWeather(p.coords.latitude, p.coords.longitude), () => fetchWeather(DELHI_COORDS.lat, DELHI_COORDS.lon));
        } else { fetchWeather(DELHI_COORDS.lat, DELHI_COORDS.lon); }

        // --- FIREBASE LISTENERS ---
        onAuthStateChanged(auth, (user) => {
            if(user) {
                currentUser = user;
                // Theme Listener
                onSnapshot(doc(db, "website_state", "global_theme"), (doc) => {
                    if(doc.exists()) {
                        const t = doc.data();
                        // Apply saved theme logic here if needed, or rely on user interaction
                    }
                });
                
                // Chat Listener
                onSnapshot(collection(db, "messages"), (snap) => {
                    const grid = document.getElementById('messagesGrid');
                    grid.innerHTML = '';
                    let msgs = [];
                    snap.forEach(d => msgs.push(d.data()));
                    msgs.sort((a,b) => (b.timestamp?.seconds || 0) - (a.timestamp?.seconds || 0));
                    msgs.slice(0, 20).forEach(m => {
                        const div = document.createElement('div');
                        div.className = 'message-card';
                        div.innerHTML = `<strong>${m.name}</strong><p>${m.text}</p>`;
                        grid.appendChild(div);
                    });
                    
                    // Draggable Hero Bubbles
                    const hero = document.getElementById('heroMessages');
                    if(hero) {
                        hero.innerHTML = '';
                        if(typeof Draggable !== 'undefined') gsap.registerPlugin(Draggable);
                        msgs.slice(0,8).forEach(m => {
                            const b = document.createElement('div');
                            b.className = 'hero-msg-bubble';
                            b.style.top = Math.random()*80 + '%'; b.style.left = Math.random()*80 + '%';
                            b.innerHTML = `<strong>${m.name}</strong><p>${m.text}</p>`;
                            hero.appendChild(b);
                            if(typeof Draggable !== 'undefined') Draggable.create(b, { bounds: "body", inertia: true });
                        });
                    }
                });

                // Blog Listener
                let loadedPosts = {};
                onSnapshot(collection(db, "blogs"), (snap) => {
                    const grid = document.getElementById('blog-feed');
                    grid.innerHTML = '';
                    let posts = [];
                    snap.forEach(d => { posts.push({id: d.id, ...d.data()}); loadedPosts[d.id] = d.data(); });
                    posts.sort((a,b) => (b.timestamp?.seconds || 0) - (a.timestamp?.seconds || 0));
                    posts.forEach(p => {
                        const div = document.createElement('div');
                        div.className = 'blog-card';
                        div.innerHTML = `<div class="vote-section"><button class="vote-btn">▲</button><span>${p.score||0}</span><button class="vote-btn">▼</button></div>
                        <div class="blog-content" onclick="window.openReadPost('${p.id}')"><h3>${p.title}</h3><div class="blog-text-preview">${p.subtitle || 'Read more...'}</div></div>`;
                        grid.appendChild(div);
                    });
                });
                window.openReadPost = (id) => {
                    const p = loadedPosts[id];
                    if(p) {
                        document.getElementById('readModalBody').innerHTML = `<h1>${p.title}</h1><div class="read-modal-text">${p.content}</div>`;
                        document.getElementById('readPostModal').style.display = 'flex';
                    }
                };

                // Stats Listeners
                onSnapshot(doc(db, "stats", "likes"), (d) => { if(d.exists()) document.getElementById('likeCount').innerText = d.data().count; });
                onSnapshot(doc(db, "stats", "global_views"), (d) => { if(d.exists()) document.getElementById('globalViewCount').innerText = d.data().count; });
                
                // Increment Views
                const today = new Date().toISOString().split('T')[0];
                runTransaction(db, async(t) => {
                    const dRef = doc(db, "page_views", today);
                    const gRef = doc(db, "stats", "global_views");
                    const dDoc = await t.get(dRef);
                    const gDoc = await t.get(gRef);
                    t.set(dRef, { views: (dDoc.exists() ? dDoc.data().views : 0) + 1 });
                    t.update(gRef, { count: (gDoc.exists() ? gDoc.data().count : 0) + 1 });
                });
                onSnapshot(doc(db, "page_views", today), (d) => { if(d.exists()) document.getElementById('todayViewCount').innerText = d.data().views; });
            }
        });

        // --- CHAT POSTING ---
        document.getElementById('postMsgBtn').addEventListener('click', async () => {
            const txt = document.getElementById('msgText').value;
            const name = document.getElementById('msgName').value || 'Anonymous';
            if(txt) {
                await addDoc(collection(db, "messages"), { name, text: txt, timestamp: serverTimestamp() });
                document.getElementById('msgText').value = '';
                alert("Posted!");
            }
        });

        // --- SPOTIFY RENDER ---
        const tracks = [
            { t: "Dreaming", a: "Metro Boomin", i: "https://i.scdn.co/image/ab67616d0000b27313b3e37318a0c247b550bccd" },
            { t: "Starboy", a: "The Weeknd", i: "https://i.scdn.co/image/ab67616d0000b2734718e28d244851e9e87d1920" },
            { t: "FE!N", a: "Travis Scott", i: "https://i.scdn.co/image/ab67616d0000b273881d8d8378cd01099babcd44" },
            { t: "Glimpse of Us", a: "Joji", i: "https://i.scdn.co/image/ab67616d0000b273a4b95f2d6c6e7a2c7c7a7b8a" }
        ];
        document.getElementById('spotifyTracks').innerHTML = tracks.map(x => `
            <div class="spotify-card"><img src="${x.i}" class="track-art"><div class="track-info"><span class="track-name">${x.t}</span><span class="track-artist">${x.a}</span></div><i class="fab fa-spotify" style="margin-left:auto; color:#1DB954;"></i></div>
        `).join('');

        // --- ANIMATIONS ---
        gsap.registerPlugin(ScrollTrigger);
        gsap.from(".hero-content > *", { y: 30, opacity: 0, duration: 0.8, stagger: 0.1 });
        gsap.from(".hero-image", { scale: 0.8, opacity: 0, duration: 0.8, delay: 0.2 });

        // --- MODALS ---
        const closeModal = (id) => document.getElementById(id).style.display = 'none';
        document.querySelectorAll('.close-modal').forEach(b => b.onclick = function() { this.parentElement.parentElement.style.display = 'none'; });
        document.getElementById('whatsappBtn').onclick = () => document.getElementById('contactModal').style.display = 'flex';
        document.getElementById('createPostBtn').onclick = () => document.getElementById('blogModal').style.display = 'flex';
        
        // Like Button
        document.getElementById('likeBtn').addEventListener('click', async () => {
            if(!currentUser) return;
            document.getElementById('likeBtn').classList.add('liked');
            setTimeout(()=>document.getElementById('likeBtn').classList.remove('liked'), 400);
            await updateDoc(doc(db, "stats", "likes"), { count: increment(1) });
        });

        // Blog Publish
        var quill = new Quill('#editor-container', { theme: 'snow' });
        document.getElementById('submitPostBtn').onclick = async () => {
            const pwd = document.getElementById('blogPassword').value;
            if(pwd !== "220919") return alert("Wrong Password");
            await addDoc(collection(db, "blogs"), {
                title: document.getElementById('blogTitle').value,
                subtitle: document.getElementById('blogSubtitle').value,
                image: document.getElementById('blogImage').value,
                content: quill.root.innerHTML,
                score: 0, timestamp: serverTimestamp()
            });
            alert("Published!");
            document.getElementById('blogModal').style.display = 'none';
        };
    </script>
</body>
</html>
